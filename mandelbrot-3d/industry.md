$1.$ 每像素发射一条射线。

$2.$ 射线跳八叉树结点。

$3.$ 碰到计算中结点时，直接返回开始等待。

$4.$ 碰到发散结点时，更新最大逃逸时间并穿过该结点。

$5.$ 碰到收敛结点时，标记射线为收敛、增加结点的射线计数并返回。

$6.$ 然后进行动态开点。

$7.$ 对于同时被奇像素和偶像素访问的收敛结点，标记为待分裂。

$8.$ 对于所有收敛结点，向 $6$ 个方向找相邻结点。若最近的结点为发散点且大于当前节点，则标记其为待分裂。

$9.$ 维护当前所有叶子节点列表，并行前缀和。为所有待分裂结点分配儿子内存。叶子列表中原结点改为左儿子，在末尾添加右儿子。待计算列表中分配迭代器内存。

$10.$ 并行迭代计算。

$11.$ 并行前缀和，重新分配待计算列表。



一些开关：

$1.$ 按 `Space` 暂停或开始动态开点器。



一些 `To do:` 

$1.$ 射线跳结点时通过 $3$ 轴邻居加速。
